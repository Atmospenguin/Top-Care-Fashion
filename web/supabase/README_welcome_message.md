# æ–°ç”¨æˆ·è‡ªåŠ¨æ¬¢è¿æ¶ˆæ¯åŠŸèƒ½

## ğŸ¯ åŠŸèƒ½è¯´æ˜

å½“æ–°ç”¨æˆ·æ³¨å†Œæ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š
1. åˆ›å»ºä¸ TOP Support çš„å¯¹è¯
2. å‘é€ä¸€æ¡æ¬¢è¿æ¶ˆæ¯ï¼š"Hey @ç”¨æˆ·å, Welcome to TOP! ğŸ‘‹"

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³• 1ï¼šåœ¨ Supabase Dashboard ä¸­æ‰§è¡Œ

1. ç™»å½• Supabase Dashboard
2. è¿›å…¥ä½ çš„é¡¹ç›®
3. ç‚¹å‡»å·¦ä¾§èœå•çš„ "SQL Editor"
4. å¤åˆ¶ `simple_welcome_trigger.sql` æ–‡ä»¶ä¸­çš„å†…å®¹
5. ç²˜è´´åˆ° SQL Editor ä¸­
6. ç‚¹å‡» "Run" æ‰§è¡Œ

### æ–¹æ³• 2ï¼šé€šè¿‡ Prisma Migration

1. åœ¨ `web` ç›®å½•ä¸‹è¿è¡Œï¼š
   ```bash
   npx prisma migrate dev --name add_welcome_message_trigger
   ```

2. åœ¨ç”Ÿæˆçš„ migration æ–‡ä»¶ä¸­æ·»åŠ  SQL å†…å®¹

## ğŸ“Š æ•°æ®åº“ç»“æ„

### conversations è¡¨
- `initiator_id`: æ–°ç”¨æˆ·çš„ ID
- `participant_id`: 1 (TOP Support çš„å›ºå®š ID)
- `type`: 'SUPPORT'
- `status`: 'ACTIVE'

### messages è¡¨
- `sender_id`: 1 (TOP Support å‘é€)
- `receiver_id`: æ–°ç”¨æˆ·çš„ ID
- `content`: "Hey @ç”¨æˆ·å, Welcome to TOP! ğŸ‘‹"
- `message_type`: 'TEXT'

## âœ… éªŒè¯åŠŸèƒ½

1. æ³¨å†Œä¸€ä¸ªæ–°ç”¨æˆ·
2. æ£€æŸ¥ `conversations` è¡¨æ˜¯å¦æœ‰æ–°è®°å½•
3. æ£€æŸ¥ `messages` è¡¨æ˜¯å¦æœ‰æ¬¢è¿æ¶ˆæ¯
4. åœ¨ç§»åŠ¨ç«¯æŸ¥çœ‹ InboxScreen æ˜¯å¦æ˜¾ç¤ºæ¬¢è¿æ¶ˆæ¯

## ğŸ”§ æ•…éšœæ’é™¤

å¦‚æœè§¦å‘å™¨ä¸å·¥ä½œï¼š
1. æ£€æŸ¥ TOP Support ç”¨æˆ·æ˜¯å¦å­˜åœ¨ï¼ˆID = 1ï¼‰
2. æ£€æŸ¥è§¦å‘å™¨æ˜¯å¦æ­£ç¡®åˆ›å»º
3. æŸ¥çœ‹ Supabase æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯

## ğŸ“ æ³¨æ„äº‹é¡¹

- è§¦å‘å™¨åªåœ¨ç”¨æˆ·æ³¨å†Œæ—¶æ‰§è¡Œä¸€æ¬¡
- ä¸ä¼šå½±å“ç°æœ‰ç”¨æˆ·
- TOP Support ç”¨æˆ·ï¼ˆID = 1ï¼‰ä¸ä¼šè§¦å‘æ¬¢è¿æ¶ˆæ¯
- æ‰€æœ‰æ–°ç”¨æˆ·éƒ½ä¼šè‡ªåŠ¨æ”¶åˆ°æ¬¢è¿æ¶ˆæ¯

